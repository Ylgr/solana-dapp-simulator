(this["webpackJsonpbein-simulator"]=this["webpackJsonpbein-simulator"]||[]).push([[0],{121:function(e,t){},122:function(e,t){},125:function(e,t){},140:function(e,t){},156:function(e,t){},157:function(e,t){},176:function(e,t){},182:function(e,t){},187:function(e,t,c){"use strict";c.r(t);var n=c(3),r=c.n(n),s=c(31),a=c.n(s),i=c(2),o=c.n(i),l=c(4),u=c(18),d=c(11),b=c(22),j=c(50),p=c.n(j),h=c(25),x=c(10);var y=function(){var e=Object(n.useState)({}),t=Object(u.a)(e,2),c=t[0],r=t[1],s=Object(n.useState)([0,0,0,0]),a=Object(u.a)(s,2),i=a[0],j=a[1],y=Object(n.useState)({}),O=Object(u.a)(y,2),f=O[0],g=O[1],K=Object(n.useState)([]),B=Object(u.a)(K,2),m=B[0],I=B[1],k=Object(n.useState)(!1),C=Object(u.a)(k,2),w=C[0],A=C[1],S=new b.a(b.c.Keypair.fromSecretKey(p.a.decode("EGeG7Q6j8DedNW1ayFJW6a1eqUYCVobJ3CkKMxGPUb3vZLfHJhYDy2YrY8bwrNy2kZvqRPduFn8KXUUxJtqEPB3"))),v=new b.a(b.c.Keypair.fromSecretKey(p.a.decode("5rfnMoHXULH1fvcvdeBNwNLCJjDrNjd5UoqQZiNxzxJ1DFXTAWj8HRJNzxh4kaoeSnjZvaGZ8yLYAvuX7W1SEfxQ"))),T=new b.c.Connection("https://api.devnet.solana.com/"),P=new b.a(b.c.Keypair.fromSecretKey(p.a.decode("4EHnNBG9jfvU2RE5bgXd9Fzn6bbKTnDdvVeQmJScpLTFyMyAy7QcLdnLuxEz7fqJLbHdZg6pZggGmumPX8hbA5Qg"))),L=new b.a(b.c.Keypair.fromSecretKey(p.a.decode("4TQEhMh7ujM8yoEKxEv6d5dWciCPhErAMP2FuLS2xTX9B3VrwZUDJVubVVby46yQGkcmWD2vvcv7pyrQDJxu96yb"))),M=new h.b(T,new b.c.PublicKey("TVS2vUYedu5SPHzanWVKWmoQKGbwPeuT3QB9JBpCrLm"),h.a,S.payer),R=new h.c("18446744073709551615"),F=function(){var e=Object(l.a)(o.a.mark((function e(){var t,c,n,r,s,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=b.c.Keypair.generate(),console.log("mint: ",c.publicKey.toBase58()),e.t0=console,e.next=5,T.getMinimumBalanceForRentExemption(82);case 5:return e.t1=e.sent,e.t0.log.call(e.t0,"lamport: ",e.t1),e.t2=b.c.SystemProgram,e.t3=S.publicKey,e.t4=c.publicKey,e.next=12,T.getMinimumBalanceForRentExemption(82);case 12:return e.t5=e.sent,e.t6=h.a,e.t7={fromPubkey:e.t3,newAccountPubkey:e.t4,space:82,lamports:e.t5,programId:e.t6},e.t8=e.t2.createAccount.call(e.t2,e.t7),e.t9=h.b.createInitMintInstruction(h.a,c.publicKey,0,v.publicKey,null),n=[e.t8,e.t9],(r=(t=new b.c.Transaction).add.apply(t,n)).feePayer=S.payer.publicKey,console.log("testFeePayerWallet.payer.publicKey: ",S.payer.publicKey.toBase58()),console.log("testMasterWallet.payer.publicKey: ",v.payer.publicKey.toBase58()),e.next=24,T.getRecentBlockhash();case 24:return r.recentBlockhash=e.sent.blockhash,r.partialSign(S.payer),r.partialSign(c),console.log("tx: ",r),s=r.serialize(),console.log("rawTx: ",s),e.next=32,T.sendRawTransaction(s);case 32:a=e.sent,console.log("receipt: ",a),I(m.concat(a)),alert("create bic success bic address: ".concat(c.publicKey.toBase58()));case 36:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(l.a)(o.a.mark((function e(t){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,T.confirmTransaction(t);case 3:c=e.sent.value,console.log("status: ",c);case 5:return e.t0=j,e.next=8,Promise.all([T.getBalance(P.publicKey),T.getBalance(L.publicKey),T.getBalance(S.publicKey),T.getBalance(v.publicKey),M.getOrCreateAssociatedAccountInfo(P.publicKey),M.getOrCreateAssociatedAccountInfo(L.publicKey),M.getOrCreateAssociatedAccountInfo(S.publicKey)]);case 8:return e.t1=e.sent,(0,e.t0)(e.t1),e.t2=g,e.next=13,M.getMintInfo();case 13:e.t3=e.sent,(0,e.t2)(e.t3);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(l.a)(o.a.mark((function e(t,c){var n,r,s,a,i,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.getOrCreateAssociatedAccountInfo(t.publicKey);case 2:return r=e.sent,s=[h.b.createMintToInstruction(M.programId,M.publicKey,r.address,v.publicKey,[],c),h.b.createApproveInstruction(M.programId,r.address,v.publicKey,t.publicKey,[],R)],(a=(n=new b.c.Transaction).add.apply(n,s)).feePayer=S.payer.publicKey,e.next=8,T.getRecentBlockhash();case 8:return a.recentBlockhash=e.sent.blockhash,a.partialSign(S.payer),a.partialSign(v.payer),a.partialSign(t.payer),i=a.serialize(),console.log("rawTx: ",i),e.next=16,T.sendRawTransaction(i);case 16:return l=e.sent,console.log("receipt: ",l),I(m.concat(l)),e.next=21,J(l);case 21:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),U=function(){var e=Object(l.a)(o.a.mark((function e(t,c,n){var r,s,a,i,l,u,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.getOrCreateAssociatedAccountInfo(t.publicKey);case 2:return s=e.sent,e.next=5,M.getOrCreateAssociatedAccountInfo(c);case 5:return a=e.sent,e.next=8,M.getOrCreateAssociatedAccountInfo(S.publicKey);case 8:return i=e.sent,l=[h.b.createTransferInstruction(M.programId,s.address,a.address,t.publicKey,[],n),h.b.createTransferInstruction(M.programId,s.address,i.address,t.publicKey,[],1)],(u=(r=new b.c.Transaction).add.apply(r,l)).feePayer=S.payer.publicKey,e.next=14,T.getRecentBlockhash();case 14:return u.recentBlockhash=e.sent.blockhash,u.partialSign(S.payer),u.partialSign(t.payer),console.log("tx: ",u),e.next=20,T.sendTransaction(u,[t.payer,S.payer],{skipPreflight:!1});case 20:return d=e.sent,I(m.concat(d)),console.log("receipt: ",d),e.next=25,J(d);case 25:case"end":return e.stop()}}),e)})));return function(t,c,n){return e.apply(this,arguments)}}(),W=function(){var e=Object(l.a)(o.a.mark((function e(t,c,n){var r,s,a,i,l,u,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.getOrCreateAssociatedAccountInfo(t);case 2:return s=e.sent,e.next=5,M.getOrCreateAssociatedAccountInfo(c);case 5:return a=e.sent,i=[h.b.createTransferInstruction(M.programId,s.address,a.address,v.publicKey,[v.payer],n)],(l=(r=new b.c.Transaction).add.apply(r,i)).feePayer=S.payer.publicKey,e.next=11,T.getRecentBlockhash();case 11:return l.recentBlockhash=e.sent.blockhash,l.partialSign(S.payer),l.partialSign(v.payer),console.log("tx: ",l),u=l.serialize(),console.log("rawTx: ",u),e.next=19,T.sendRawTransaction(u);case 19:return d=e.sent,console.log("receipt: ",d),I(m.concat(d)),e.next=24,J(d);case 24:case"end":return e.stop()}}),e)})));return function(t,c,n){return e.apply(this,arguments)}}(),Q=function(){var e=Object(l.a)(o.a.mark((function e(t){var c,n,r,s,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.b.getAssociatedTokenAddress(M.associatedProgramId,M.programId,M.publicKey,t.publicKey);case 2:return c=e.sent,console.log("bicAssociatedPublicKey: ",c.toBase58()),e.next=6,T.getAccountInfo(c);case 6:if(n=e.sent,console.log("accountInfo: ",n),!n||!n.owner){e.next=12;break}alert("Cannot create account because it own by ".concat(n.owner.toBase58())),e.next=26;break;case 12:return(r=(new b.c.Transaction).add(h.b.createAssociatedTokenAccountInstruction(M.associatedProgramId,M.programId,M.publicKey,c,t.publicKey,S.publicKey))).feePayer=S.payer.publicKey,e.next=16,T.getRecentBlockhash();case 16:return r.recentBlockhash=e.sent.blockhash,r.partialSign(S.payer),console.log("tx: ",r),s=r.serialize(),e.next=22,T.sendRawTransaction(s);case 22:a=e.sent,console.log("receipt: ",a),I(m.concat(a)),alert("Create account ".concat(c.toBase58()));case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{className:"App",children:[Object(x.jsxs)(d.i,{children:[Object(x.jsxs)(d.f,{children:[Object(x.jsx)(d.h,{children:"Generate keypair"}),Object(x.jsx)("br",{}),Object(x.jsx)(d.a,{onClick:function(){r(b.c.Keypair.generate())},children:"Generate"}),c.publicKey&&Object(x.jsx)(d.a,{onClick:function(){return Q(c)},children:"Create BIC Associated Account"})]}),Object(x.jsxs)(d.f,{children:[Object(x.jsxs)("h4",{children:["Secret key: ",c.secretKey&&p.a.encode(c.secretKey)]}),Object(x.jsxs)("h4",{children:["Public key: ",c.secretKey&&c.publicKey.toBase58()]})]})]}),Object(x.jsxs)(d.i,{children:[Object(x.jsx)(d.h,{children:"Signature logs"}),Object(x.jsx)(d.a,{onClick:function(){return A(!w)},children:"Show signature logs"}),Object(x.jsx)(d.g,{isOpen:w,children:Object(x.jsx)(d.b,{children:Object(x.jsx)(d.c,{children:m.map((function(e){return Object(x.jsx)(d.d,{children:e})}))})})})]}),Object(x.jsxs)(d.i,{children:[Object(x.jsx)(d.h,{children:"Spl token"}),Object(x.jsxs)(d.b,{children:[Object(x.jsx)(d.a,{onClick:function(){return F()},children:"Create BIC"}),Object(x.jsx)(d.a,{onClick:function(){return J()},children:"Load"})]}),Object(x.jsx)(d.b,{children:Object(x.jsxs)(d.c,{children:[Object(x.jsx)(d.e,{children:"BIC"}),Object(x.jsxs)(d.d,{children:["ProgramId: ",M.programId.toBase58()]}),Object(x.jsxs)(d.d,{children:["Public key: ",M.publicKey.toBase58()]}),Object(x.jsxs)(d.d,{children:["Mint: ",f.mintAuthority&&f.mintAuthority.toBase58()]}),Object(x.jsxs)(d.d,{children:["Decimals: ",f.decimals]}),Object(x.jsxs)(d.d,{children:["Supply: ",f.supply&&f.supply.toString()]})]})}),Object(x.jsx)(d.h,{children:"User Wallet"}),Object(x.jsxs)(d.i,{children:[Object(x.jsx)(d.f,{md:6,children:Object(x.jsxs)(d.b,{children:[Object(x.jsxs)(d.c,{children:[Object(x.jsx)(d.e,{children:"User 1"}),Object(x.jsxs)(d.e,{children:["Address: ",P.publicKey.toBase58()]}),Object(x.jsxs)(d.d,{children:["Balances: ",i[0]," nSOL"]}),Object(x.jsxs)(d.e,{children:["BIC Associated Address: ",i[4]&&i[4].address.toBase58()]}),Object(x.jsxs)(d.e,{children:["BIC balance: ",i[4]&&i[4].amount.toString()," BIC"]})]}),Object(x.jsx)(d.c,{children:Object(x.jsx)(d.a,{onClick:function(){return U(P,L.publicKey,10)},children:"Transfer 10 BIC to user 2"})})]})}),Object(x.jsx)(d.f,{md:6,children:Object(x.jsxs)(d.b,{children:[Object(x.jsxs)(d.c,{children:[Object(x.jsx)(d.e,{children:"User 2"}),Object(x.jsxs)(d.e,{children:["Address: ",L.publicKey.toBase58()]}),Object(x.jsxs)(d.d,{children:["Balances: ",i[1]," nSOL"]}),Object(x.jsxs)(d.e,{children:["BIC Associated Address: ",i[5]&&i[5].address.toBase58()]}),Object(x.jsxs)(d.e,{children:["BIC balance: ",i[5]&&i[5].amount.toString()," BIC"]})]}),Object(x.jsx)(d.c,{children:Object(x.jsx)(d.a,{onClick:function(){return U(L,P.publicKey,10)},children:"Transfer 10 BIC to user 1"})})]})})]}),Object(x.jsx)(d.h,{children:"System Wallet"}),Object(x.jsxs)(d.i,{children:[Object(x.jsx)(d.f,{md:6,children:Object(x.jsxs)(d.b,{children:[Object(x.jsxs)(d.c,{children:[Object(x.jsx)(d.e,{children:"FeePayer wallet"}),Object(x.jsxs)(d.e,{children:["Address: ",S.publicKey.toBase58()]}),Object(x.jsxs)(d.d,{children:["Balances: ",i[2]," nSOL"]}),Object(x.jsxs)(d.d,{children:[i[2]/Math.pow(10,9)," SOL"]}),Object(x.jsxs)(d.e,{children:["BIC Associated Address: ",i[6]&&i[6].address.toBase58()]}),Object(x.jsxs)(d.e,{children:["BIC balance: ",i[6]&&i[6].amount.toString()," BIC"]})]}),Object(x.jsx)(d.c,{})]})}),Object(x.jsx)(d.f,{md:6,children:Object(x.jsxs)(d.b,{children:[Object(x.jsxs)(d.c,{children:[Object(x.jsx)(d.e,{children:"Master (Recover) wallet"}),Object(x.jsxs)(d.e,{children:["Address: ",v.publicKey.toBase58()]}),Object(x.jsxs)(d.d,{children:["Balances: ",i[3]," nSOL"]}),Object(x.jsxs)(d.d,{children:[i[3]/Math.pow(10,9)," SOL"]})]}),Object(x.jsxs)(d.c,{children:[Object(x.jsx)(d.a,{onClick:function(){return E(P,1e3)},children:"Mint 1000 BIC to user 1"}),Object(x.jsx)(d.a,{onClick:function(){return E(L,1e3)},children:"Mint 1000 BIC to user 2"})]}),Object(x.jsxs)(d.c,{children:[Object(x.jsx)(d.a,{onClick:function(){return W(P.publicKey,L.publicKey,10)},children:"Transfer 10 BIC from user 1 to user 2"}),Object(x.jsx)(d.a,{onClick:function(){return W(L.publicKey,P.publicKey,10)},children:"Transfer 10 BIC from user 2 to user 1"})]})]})})]})]}),Object(x.jsx)(d.i,{})]})},O=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,194)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;c(e),n(e),r(e),s(e),a(e)}))};c(186);a.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(y,{})}),document.getElementById("root")),O()}},[[187,1,2]]]);
//# sourceMappingURL=main.a84073a4.chunk.js.map